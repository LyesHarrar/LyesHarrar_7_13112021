{"remainingRequest":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\src\\views\\SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\src\\views\\SignUp.vue","mtime":1609954819000},{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636700259092},{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1636700283426},{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636700259092},{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1636700288853}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBXZWxjb21lTmF2IGZyb20gJy4uL2NvbXBvbmVudHMvV2VsY29tZU5hdi52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NpZ25VcCcsCiAgY29tcG9uZW50czogewogICAgV2VsY29tZU5hdjogV2VsY29tZU5hdgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJJbmZvOiB7CiAgICAgICAgZmlyc3ROYW1lOiAiIiwKICAgICAgICBsYXN0TmFtZTogIiIsCiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBlcnJvck1lc3NhZ2U6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2lnbnVwOiBmdW5jdGlvbiBzaWdudXAoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy51c2VySW5mby5wYXNzd29yZCA9PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVwZWF0LXBhc3N3b3JkIikudmFsdWUpIHsKICAgICAgICAvL2NvbnN0cnVjdGlvbiBkZSBsJ29iamV0ICJwcm9maWwiIMOgIGVudm95ZXIgw6AgbCdBUEkKICAgICAgICB2YXIgdXNlclByb2ZpbGUgPSB7CiAgICAgICAgICAiZmlyc3ROYW1lIjogdGhpcy51c2VySW5mby5maXJzdE5hbWUsCiAgICAgICAgICAibGFzdE5hbWUiOiB0aGlzLnVzZXJJbmZvLmxhc3ROYW1lLAogICAgICAgICAgImVtYWlsIjogdGhpcy51c2VySW5mby5lbWFpbCwKICAgICAgICAgICJwYXNzd29yZCI6IHRoaXMudXNlckluZm8ucGFzc3dvcmQKICAgICAgICB9OwogICAgICAgIHZhciB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VyL3NpZ251cCI7CiAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJQcm9maWxlKSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgLy92w6lyaWZpZXIgbGEgY3LDqWF0aW9uIGRlIGwnSUQgZXQgZHUgdG9rZW4gZXQgbGVzIHN0b2NrZXIgZGFucyBsZSBsb2NhbFN0b3JhZ2UKICAgICAgICAgIGlmIChyZXMudXNlcklEICYmIHJlcy50b2tlbikgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlcklEIiwgcmVzLnVzZXJJRCk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlcy50b2tlbik7CgogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goImZvcnVtIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL3Npbm9uIGFmZmljaGVyIGxlIG1lc3NhZ2UgZCdlcnJldXIgY29ycmVzcG9uZGFudCBzb3VzIGxlIGZvcm11bGFpcmUKICAgICAgICAgICAgX3RoaXMuZXJyb3JNZXNzYWdlID0gcmVzLm1lc3NhZ2U7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvcjsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICJWb3VzIGF2ZXogZW50csOpIDIgbW90cyBkZSBwYXNzZSBkaWZmw6lyZW50cyI7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICB9Cn07"},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA,OAAA,UAAA,MAAA,8BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,UAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,SAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OADA;AAOA,MAAA,YAAA,EAAA;AAPA,KAAA;AASA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,UAAA,KAAA,QAAA,CAAA,QAAA,IAAA,QAAA,CAAA,cAAA,CAAA,iBAAA,EAAA,KAAA,EAAA;AACA;AACA,YAAA,WAAA,GAAA;AACA,uBAAA,KAAA,QAAA,CAAA,SADA;AAEA,sBAAA,KAAA,QAAA,CAAA,QAFA;AAGA,mBAAA,KAAA,QAAA,CAAA,KAHA;AAIA,sBAAA,KAAA,QAAA,CAAA;AAJA,SAAA;AAMA,YAAA,GAAA,GAAA,uCAAA;AACA,YAAA,OAAA,GAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,WAAA,CAFA;AAGA,UAAA,OAAA,EAAA;AACA,4BAAA;AADA;AAHA,SAAA;AAOA,QAAA,KAAA,CAAA,GAAA,EAAA,OAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA;AAAA,iBAAA,GAAA,CAAA,IAAA,EAAA;AAAA,SADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA;AACA,cAAA,GAAA,CAAA,MAAA,IAAA,GAAA,CAAA,KAAA,EAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,QAAA,EAAA,GAAA,CAAA,MAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,KAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,WAJA,MAKA;AACA;AACA,YAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,OAAA;AACA;AACA,SAbA,EAcA,KAdA,CAcA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,SAhBA;AAiBA,OAjCA,MAkCA;AACA,aAAA,YAAA,GAAA,4CAAA;AACA;AACA;AAvCA,GAdA;AAuDA,EAAA,OAvDA,qBAuDA;AACA,IAAA,YAAA,CAAA,KAAA;AACA;AAzDA,CAAA","sourcesContent":["<template>\n    <div class=\"container welcome-container\">\n        <WelcomeNav></WelcomeNav>\n        <h1>Nouveau sur Groupomania ?</h1>\n        <form v-on:submit.prevent=\"signup\" class=\"welcome-form\">\n            <fieldset>\n                <label for=\"firstname\">Prénom *\n                    <input\n                        type=\"text\"\n                        id=\"firstname\"\n                        required\n                        pattern=\"^\\D*$\"\n                        placeholder=\"Renseignez ici votre prénom\"\n                        maxlength=\"30\"\n                        aria-label=\"Entrez votre prénom\"\n                        v-model=\"userInfo.firstName\"\n                    />\n                </label>\n            </fieldset>\n            <fieldset>\n                <label for=\"lastname\">Nom *\n                    <input\n                        type=\"text\"\n                        id=\"lastname\"\n                        required\n                        pattern=\"^\\D*$\"\n                        placeholder=\"Renseignez ici votre nom de famille\"\n                        maxlength=\"30\"\n                        aria-label=\"Entrez votre nom\"\n                        v-model=\"userInfo.lastName\"\n                    />\n                </label>\n            </fieldset>\n            <fieldset>\n                <label for=\"email\">Email *\n                    <input\n                        type=\"email\"\n                        id=\"email\"\n                        required\n                        placeholder=\"Entrez une adresse email valide\"\n                        maxlength=\"60\"\n                        aria-label=\"Entrez votre adresse email\"\n                        v-model=\"userInfo.email\"\n                    />\n                </label>\n            </fieldset>\n            <fieldset>\n                <label for=\"password\">Mot de passe *\n                    <input\n                        type=\"password\"\n                        id=\"password\"\n                        required\n                        placeholder=\"Renseignez votre mot de passe\"\n                        aria-label=\"Choisissez un mot de passe comprenant 1 minuscule, 1 majuscule et 1 chiffre\"\n                        v-model=\"userInfo.password\"\n                    />\n                </label>\n            </fieldset>\n            <fieldset>\n                <label for=\"repeat-password\">Confirmez votre mot de passe *\n                    <input\n                        type=\"password\"\n                        id=\"repeat-password\"\n                        required\n                        placeholder=\"Tapez à nouveau le mot de passe choisi\"\n                        aria-label=\"Tapez à nouveau le mot de passe choisi\"\n                    />\n                </label>\n            </fieldset>\n            <p v-if=\"errorMessage.length >= 1\" class=\"alert-msg\">{{ errorMessage }}</p>\n            <button>Créez votre compte</button>\n        </form>\n    </div>\n</template>\n\n<script>\nimport WelcomeNav from '../components/WelcomeNav.vue'\nexport default {\n    name: 'SignUp',\n    components: { WelcomeNav },\n    data: () => {\n        return {\n            userInfo: {\n                firstName: \"\",\n                lastName: \"\",\n                email: \"\",\n                password: \"\"\n            },\n            errorMessage: \"\"\n        }\n    },\n    methods: {\n        signup() {\n            if(this.userInfo.password == document.getElementById(\"repeat-password\").value) {\n                //construction de l'objet \"profil\" à envoyer à l'API\n                let userProfile = {\n                    \"firstName\": this.userInfo.firstName,\n                    \"lastName\": this.userInfo.lastName,\n                    \"email\": this.userInfo.email,\n                    \"password\": this.userInfo.password\n                }\n                let url = \"http://localhost:3000/api/user/signup\"\n                let options = {\n                    method: \"POST\",\n                    body: JSON.stringify(userProfile),\n                    headers: {\n                        'Content-Type': 'application/json'\n                    }\n                }\n                fetch(url, options)\n                    .then(res => res.json())\n                    .then((res) => {\n                        //vérifier la création de l'ID et du token et les stocker dans le localStorage\n                        if(res.userID && res.token){\n                            localStorage.setItem(\"userID\", res.userID);\n                            localStorage.setItem(\"token\", res.token);\n                            this.$router.push(\"forum\");\n                        }\n                        else {\n                            //sinon afficher le message d'erreur correspondant sous le formulaire\n                            this.errorMessage = res.message\n                        }\n                    })\n                .catch(error => {\n                    this.errorMessage = error\n                })\n            }\n            else {\n                this.errorMessage = \"Vous avez entré 2 mots de passe différents\"\n            }\n        },\n    },\n    mounted() {\n        localStorage.clear();\n    }\n}\n</script>\n\n<style lang=\"css\">\n@import \"../style/style.css\";\n</style>\n"],"sourceRoot":"src/views"}]}