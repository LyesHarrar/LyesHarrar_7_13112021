{"remainingRequest":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\src\\views\\NewPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\src\\views\\NewPost.vue","mtime":1609954819000},{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636700259092},{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1636700283426},{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636700259092},{"path":"C:\\Users\\X240\\Desktop\\OpenClassrooms\\groupomania-lyes\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1636700288853}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBIb21lTmF2IGZyb20gJy4uL2NvbXBvbmVudHMvSG9tZU5hdic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTmV3UG9zdCcsCiAgY29tcG9uZW50czogewogICAgSG9tZU5hdjogSG9tZU5hdgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc3RJbmZvOiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGdpZlVybDogIiIsCiAgICAgICAgdGV4dDogIiIKICAgICAgfSwKICAgICAgdXBkYXRlTWVzc2FnZTogIiIsCiAgICAgIHB1Ymxpc2hlZDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBwdWJsaXNoOiBmdW5jdGlvbiBwdWJsaXNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHVybCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3QiOwogICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLnBvc3RJbmZvKSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLAogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0KICAgICAgfTsKICAgICAgZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5vaykgewogICAgICAgICAgX3RoaXMucG9zdEluZm8gPSB7fTsKICAgICAgICB9CgogICAgICAgIF90aGlzLnVwZGF0ZU1lc3NhZ2UgPSByZXMubWVzc2FnZTsKICAgICAgICBfdGhpcy5wdWJsaXNoZWQgPSB0cnVlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvcjsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["NewPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,OAAA,OAAA,MAAA,uBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GAFA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OADA;AAMA,MAAA,aAAA,EAAA,EANA;AAOA,MAAA,SAAA,EAAA;AAPA,KAAA;AASA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,UAAA,GAAA,GAAA,gCAAA;AACA,UAAA,OAAA,GAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,QAAA,CAFA;AAGA,QAAA,OAAA,EAAA;AACA,2BAAA,YAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CADA;AAEA,0BAAA;AAFA;AAHA,OAAA;AAQA,MAAA,KAAA,CAAA,GAAA,EAAA,OAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,EAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA;;AACA,QAAA,KAAA,CAAA,aAAA,GAAA,GAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,OARA,EASA,KATA,CASA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,OAXA;AAYA;AAvBA;AAhBA,CAAA","sourcesContent":["<template>\n\t<div class=\"container\">\n\t\t<HomeNav></HomeNav>\n\t\t<h1>Ajouter une publication</h1>\n\t\t<form v-on:submit.prevent=\"publish\">\n\t\t\t<fieldset>\n\t\t\t\t<label for=\"post-title\">Titre *\n\t\t\t\t\t<input\n                        v-model=\"postInfo.title\"\n                        type=\"text\"\n                        id=\"post-title\"\n                        name=\"post-title\"\n                        placeholder=\"Titre de votre publication\"\n                        required\n                    />\n\t\t\t\t</label>\n\t\t\t</fieldset>\n\t\t\t<fieldset>\n\t\t\t\t<label for=\"gif-url\">URL du gif *\n\t\t\t\t\t<input\n                        v-model=\"postInfo.gifUrl\"\n                        type=\"url\"\n                        id=\"gif-url\"\n                        placeholder=\"Lien vers le fichier GIPHY par exemple\"\n                        required\n                    />\n\t\t\t\t</label>\n\t\t\t</fieldset>\n\t\t\t<fieldset>\n\t\t\t\t<label for=\"post-content\">Texte *\n\t\t\t\t\t<textarea\n                        v-model=\"postInfo.text\"\n                        id=\"post-content\"\n                        name=\"post-content\"\n                        required>\n                    </textarea>\n\t\t\t\t</label>\n\t\t\t</fieldset>\n\t\t\t<p class=\"alert-msg\" v-if=\"updateMessage.length >= 1\">{{ updateMessage }}</p>\n\t\t\t<button type=\"submit\" id=\"post-upload\">Publier</button>\n\t\t\t<router-link v-if=\"published\" to=\"/forum\" tag=\"button\">Se rendre sur le forum</router-link>\n\t\t</form>\n\t</div>\n</template>\n\n<script>\nimport HomeNav from '../components/HomeNav'\nexport default {\n    name: 'NewPost',\n    components: {\n        HomeNav\n    },\n    data: () => {\n        return {\n            postInfo : {\n                title: \"\",\n                gifUrl: \"\",\n                text: \"\"\n            },\n            updateMessage : \"\",\n            published: false,\n        }\n    },\n    methods: {\n        publish() {\n            let url = \"http://localhost:3000/api/post\"\n            let options = {\n                method: \"POST\",\n                body: JSON.stringify(this.postInfo),\n                headers: {\n                    'Authorization': 'Bearer ' + localStorage.getItem(\"token\"),\n                    'Content-Type': 'application/json'\n                }\n            }\n            fetch(url, options)\n                .then(res => res.json())\n                .then(res => {\n                    if(res.ok) {\n                        this.postInfo = {}\n                    }\n                    this.updateMessage = res.message;\n                    this.published = true;\n                })\n            .catch(error => {\n                this.errorMessage = error\n            })\n        }\n    }\n}\n</script>\n\n<style lang=\"css\">\n@import '../style/style.css'\n</style>"],"sourceRoot":"src/views"}]}